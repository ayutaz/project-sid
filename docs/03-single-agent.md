# 3. 単一エージェントの進化

[← 前: PIANOアーキテクチャ](./02-piano-architecture.md) | [トップ](./index.md) | [次: マルチエージェントの進化 →](./04-multi-agent.md)

---

## 3.1 Minecraft環境の選択理由

Minecraftが実験環境として選ばれた主な理由：

- **オープンエンドなサンドボックス世界**: 会話とアクション両方での相互作用が可能
- **大規模エージェントのサポート**: 多数エージェントの同時動作が可能
- **累積的進歩の測定**: 約1,000種類のアイテムによる段階的評価が可能

### 技術依存ツリー（Technology Dependency Tree）

Minecraftのアイテム取得には明確な依存関係が存在し、累積的な進歩を定量的に評価できる。

```
木のツルハシ → 石のツルハシ → 鉄のツルハシ → ダイヤモンドの採掘
                                    ↑
                          かまど + 石炭 → 鉄インゴットの精錬
```

---

## 3.2 ベンチマーク設計

| パラメータ | 設定 |
|---|---|
| エージェント数 | 25体 |
| 初期状態 | 空のインベントリ（empty inventory） |
| スポーン位置 | 多様な場所（地表、洞窟、森林、各種バイオーム）にランダム配置 |
| 評価時間 | 30分間 |
| 指示 | 環境を探索しアイテムを収集 |

スポーン位置によって難易度が大きく異なる設計となっており、エージェントのロバスト性（robustness）と適応能力を多角的に評価している。

---

## 3.3 行動認識モジュールの決定的重要性

単一エージェントの進歩において**最も重要なモジュール**として特定された。

### 機能

期待されるアクション結果と実際の結果を比較し、ハルシネーション（hallucination）に起因するエラーを検出・修正する。

### なぜ重要か

エージェントはしばしば「ハルシネーションを起こし、アクションループに陥る」。すでにアイテムを取得したと誤認すると、そのアイテムの追求を停止し、連鎖的なエラーが発生する。行動認識モジュールがこの問題を検出・是正する。

### アブレーション実験の結果

このモジュールを除去した場合、アイテム取得性能が大幅に低下することが実証された。

---

## 3.4 実験結果

### 短期実験（30分、25エージェント）

| 条件 | 30分後の平均ユニークアイテム数 | 評価 |
|---|---|---|
| ベースライン（3モジュール） | 最小限の進歩 | 基本モジュールだけでは不十分 |
| PIANO（行動認識なし） | 中間的な性能 | 行動認識の重要性を示す |
| **完全PIANO** | **約17アイテム** | **大幅な改善** |

- **個体差**: スポーン位置により5〜40アイテムの大きなばらつき
- **トップパフォーマー**: ある程度のMinecraft経験を持つ人間プレイヤーに匹敵

### 長期実験（4時間、49エージェント）

| 指標 | 結果 |
|---|---|
| 累積ユニークアイテム数 | 約**320種類**で飽和（全アイテムの約1/3） |
| ダイヤモンド達成時間 | 約**30分** |
| 飽和パターン | 約320で信頼性高く飽和 |

### 基盤モデルへの依存性

- この水準の性能は「最新の基盤LM（**GPT-4o**）によってのみ可能」
- 旧世代の基盤LMでは同等の進歩は「不可能」
- 単一エージェントの進歩能力が基礎となる言語モデルの能力に決定的に依存することを示す重要な知見

---

## 3.5 残存する課題

| 課題 | 詳細 |
|---|---|
| **ハルシネーション** | アクション結果の誤認によるループが依然として発生 |
| **視覚・空間推論の欠如** | 基本的なMinecraftスキル、特に空間ナビゲーションが制限される |
| **エキスパートレベルとのギャップ** | トッププレイヤーでも30〜40アイテム。エキスパートには届かない |

---

## 3.6 まとめ

- [PIANOアーキテクチャ](./02-piano-architecture.md)の並行性+一貫性に基づくマルチモジュール設計が、単一エージェントの進歩を大幅に改善
- 行動認識モジュールがハルシネーション対策として決定的に重要
- 49エージェントが4時間で約320種類のアイテムを取得し、個々の限界を集団で補完できることを示唆
- これらの知見が[マルチエージェント社会シミュレーション](./04-multi-agent.md)の基盤となる

---

[← 前: PIANOアーキテクチャ](./02-piano-architecture.md) | [トップ](./index.md) | [次: マルチエージェントの進化 →](./04-multi-agent.md)
